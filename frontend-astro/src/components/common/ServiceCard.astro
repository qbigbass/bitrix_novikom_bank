---
import AIcon from "@components/AIcon.astro";
import PatternBg from "@components/common/Pattern/PatternBg.astro";

interface Props {
    title: string;
    icon: string;
    class?: string;
}

const { title, icon, class: className, ...rest } = Astro.props as Props;
---

<a href="#" class="service-card" class:list={className} {...rest}>
    <div class="service-card__content">
        <div class="service-card__title headline-3">{title}</div>
        <AIcon class="service-card__icon" symbolId={icon} />
    </div>
    <PatternBg class="service-card__pattern" />
</a>

<style lang="scss" is:global>
    @use "sass:map";
    @import "@styles/variables.scss";
    @import "@styles/media-queries";
    @import "@styles/functions.scss";

    .service-card {
        position: relative;
        display: block;
        border-radius: 0.75rem;
        overflow: hidden;
        height: 100%;
        background-color: var(--dark-10);
        text-decoration: unset;

        &:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                270deg,
                rgba(245, 244, 246, 0.9) 0%,
                rgba(173, 173, 212, 0) 100%
            );
        }

        &__content {
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
            padding: calc-clamp(
                    1.5rem,
                    2.5rem,
                    map.get($mq-breakpoints, tablet)
                )
                calc-clamp(1rem, 2.5rem, map.get($mq-breakpoints, tablet));
            z-index: 1;
        }

        &__title {
            color: var(--dark-100);
        }

        &__icon {
            width: 4rem;
            height: 4rem;
            align-self: flex-end;
            color: var(--violet-100);

            svg {
                width: 100%;
                height: 100%;
            }
        }

        &__pattern {
            bottom: 5.5rem;

            @include use-media(tablet) {
                bottom: 0;
            }
        }
    }
</style>
