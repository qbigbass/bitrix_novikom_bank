---
interface Props {
	classList?: string;
	class?: string;
	cols: number,
	isScrollable?: boolean
}

const {
	class: classList,
	cols = 2,
	isScrollable = false,
	...rest
} = Astro.props as Props;
---
<div
	class:list={[
		'a-table',
		`${isScrollable ? 'a-table--scrollable' : ''}`,
		`col-${cols}`,
		classList
	]}
	{...rest}
>
	<slot />
</div>

<style lang="scss" is:global>
	@import "@styles/media-queries";

	.a-table {
        width: 100%;

		.a-table-row {
			display: grid;
			gap: 1rem;
			border-bottom: 1px dashed var(--blue-30);

			@include use-media(tablet-album) {
				gap: 2.5rem;
			}
		}

		&.col-2 {
			.a-table-row {
				grid-template-columns: 1fr 1fr;
			}
		}

		&.col-4 {
			.a-table-row {
				grid-template-columns: repeat(4, 1fr);
			}
		}

		&.md {
			&\:in-column {
				.a-table-header {
					display: none;

					@include use-media(tablet) {
						display: block;
					}
				}

				&.col-2 {
					.a-table-body {
						.a-table-row {
							gap: unset;
							grid-template-columns: 1fr;

							.a-table-cell:first-child {
								padding-bottom: 0;
							}

							@include use-media(tablet) {
								gap: 1rem;
								grid-template-columns: 1fr 1fr;

								.a-table-cell:first-child {
									padding-bottom: 1.5rem;
								}
							}

							@include use-media(tablet-album) {
								gap: 2.5rem;
							}
						}
					}
				}
			}
		}

		&--scrollable {
			position: relative;
			overflow-y: auto;
			margin-right: -1.5rem;
			margin-left: -1.5rem;
			padding-left: 1.5rem;
			padding-right: 1.5rem;
			padding-bottom: .5rem;
			width: calc(100% + 3rem);
			scrollbar-width: thin;
			scrollbar-color: var(--blue-100) var(--blue-30);

			@include use-media(tablet) {
				width: 100%;
				margin-right: 0;
				margin-left: 0;
				padding-left:0;
				padding-right:0;
				padding-bottom: 0;
			}

			/* Стили для горизонтальной полосы прокрутки */
			&::-webkit-scrollbar {
				height: .25rem;
			}

			&::-webkit-scrollbar-track {
				background-color: var(--blue-30);
				border-radius: .25rem;
			}

			&::-webkit-scrollbar-thumb {
				background-color: var(--blue-100);
				border-radius: .25rem;
			}

			& .a-table-row {
				border-bottom: none;
				gap: 0;

				@include use-media(tablet) {
					gap: 1rem;
					border-bottom: 1px dashed var(--blue-30);
				}
			}

			& .a-table-cell {
				min-width: 140px;
				border-bottom: 1px dashed var(--blue-30);

				@include use-media(tablet) {
					border-bottom: none;
				}

				&:not(:first-child) {
					padding-left: 1rem;
					box-sizing: content-box;

					@include use-media(tablet) {
						padding-left: 0;
						box-sizing: border-box;
					}
				}
			}
		}
	}
</style>
