---
import ATabs from "../../ui/ATabs/ATabs.astro";
import ATab from "../../ui/ATabs/common/ATab/ATab.astro";
import ATabSwiper from "../../ui/ATabs/common/ATabSwiper/ATabSwiper.astro";
import ATabSwiperWrapper from "../../ui/ATabs/common/ATabSwiperWrapper.astro";
import ATabPanels from "../../ui/ATabs/common/ATabPanels.astro";
import ATabPanel from "../../ui/ATabs/common/ATabPanel.astro";

const { class: className, ...rest } = Astro.props;
---
<div class="currency-exchange-table" class:list={className} {...rest}>
	<ATabs useLayout>
		<div class="currency-exchange-table__tabs">
			<ATabSwiper>
				<ATabSwiperWrapper>
					<ATab value="0" isActive>EUR</ATab>
					<ATab value="1">USD</ATab>
					<ATab value="2">CNY</ATab>
				</ATabSwiperWrapper>
			</ATabSwiper>
		</div>
		<div class="currency-exchange-table__title">
			<div class="currency-exchange-table__row body-s-light">
				<div class="currency-exchange-table__cell">Валюта</div>
				<div class="currency-exchange-table__cell">Продать, RUB</div>
				<div class="currency-exchange-table__cell">Купить, RUB</div>
				<div class="currency-exchange-table__cell">ЦБ РФ, RUB</div>
			</div>
		</div>
		<ATabPanels>
			<ATabPanel value="0">
				<div class="currency-exchange-table__row">
					<div class="currency-exchange-table__cell body-l-light is-left body-m-heavy">Евро - EUR</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">Продать, RUB</span>
						<p>94,60</p>
					</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">Купить, RUB</span>
						<p>99,10</p>
					</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">ЦБ РФ, RUB</span>
						<p>97,15</p>
					</div>
				</div>
			</ATabPanel>
			<ATabPanel value="1">
				<div class="currency-exchange-table__row">
					<div class="currency-exchange-table__cell body-l-light is-left body-m-heavy">Доллар США - USD</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">Продать, RUB</span>
						<p>89,60</p>
					</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">Купить, RUB</span>
						<p>90,10</p>
					</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">ЦБ РФ, RUB</span>
						<p>89,15</p>
					</div>
				</div>
			</ATabPanel>
			<ATabPanel value="2">
				<div class="currency-exchange-table__row">
					<div class="currency-exchange-table__cell body-l-light is-left body-m-heavy">Китайский юань - CNY</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">Продать, RUB</span>
						<p>13,60</p>
					</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">Купить, RUB</span>
						<p>15,10</p>
					</div>
					<div class="currency-exchange-table__cell body-l-light">
						<span class="body-s-light">ЦБ РФ, RUB</span>
						<p>13,15</p>
					</div>
				</div>
			</ATabPanel>
		</ATabPanels>
	</ATabs>
</div>

<style lang="scss" is:global>
	@use "sass:map";
	@import "@styles/variables.scss";
	@import "@styles/placeholders";
	@import "@styles/media-queries";


	.currency-exchange-table {
		&__tabs {
			margin-bottom: 1.5rem;

			@include use-media(tablet) {
				display: none;
			}
		}

		&__title {
			display: none;
			color: var(--dark-70);

			.currency-exchange-table__cell {
				padding: 1rem 0;
			}

			@include use-media(tablet) {
				display: block;
			}
		}

		.a-tab-panel.is-hidden {
			display: none;

			@include use-media(tablet) {
				display: block !important;
			}
		}

		&__row {
			display: grid;
			column-gap: 1rem;
			grid-template-columns: 1fr;

			@include use-media(tablet) {
				grid-template-columns: 320px repeat(3, 1fr);
				column-gap: 1.5rem;
				border-bottom: 1px dashed var(--blue-30);
			}

			@include use-media(tablet-album) {
				column-gap: 2.5rem;
			}
		}

		&__cell {
			display: grid;
			grid-template-columns: 1fr 1fr;
			align-items: center;
			gap: 0.5rem;
			padding: 1.5rem 0;
			border-bottom: 1px dashed var(--blue-30);

			span {
				color: var(--dark-70);

				@include use-media(tablet) {
					display: none;
				}
			}

			&:first-child {
				display: none;
			}

			@include use-media(tablet) {
				grid-template-columns: 1fr;
				border-bottom: unset;

				&:first-child {
					display: grid;
				}
			}

			@include use-media(tablet-album) {
				padding: 1.5rem 0;
			}
		}
	}

	.currency-exchange-table__title .currency-exchange-table__row {
		border-bottom: unset;
	}

	.currency-exchange-table__title {

	}
</style>