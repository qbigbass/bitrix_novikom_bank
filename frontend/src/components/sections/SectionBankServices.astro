---
import ServiceCard from "../common/ServiceCard.astro";
import ServiceSalaryCard from "../common/ServiceSalaryCard.astro";
import ServiceAppsCard from "../common/ServiceAppsCard.astro";
import SectionLayout from "../layouts/SectionLayout.astro";
import PersistentSlider from "../common/Sliders/PersistentSlider/PersistentSlider.astro";
import SliderSlide from "../common/Sliders/common/SliderSlide/SliderSlide.astro";
import AppButton from "@components/ui/Buttons/AppButton.astro";
import AButton from "@components/ui/Buttons/AButton.astro";

const serviceAppBenefits = [
    {
        icon: "icon-mobile",
        text: "Управление кешбэком и&nbsp;бонусами",
    },
    {
        icon: "icon-time",
        text: "Доступ к&nbsp;услугам банка 24/7",
    },
    {
        icon: "icon-cash",
        text: "Платежи и&nbsp;переводы без&nbsp;комиссии",
    },
];
---

<SectionLayout class="bank-services">
    <div class="content-container">
        <div class="bank-services__container">
            <div class="bank-services__services">
                <PersistentSlider
                    class="bank-services__slider"
                    spaceBetween="mobile-s:8,mobile:8,tablet:8,laptop:8,laptop-x:8"
                    slidesPerView="mobile-s:1,mobile:1,tablet:3,laptop:3,laptop-x:3"
                >
                    <SliderSlide class="bank-services__slide">
                        <ServiceCard
                            class="bank-services__card"
                            title="Интернет-банк"
                            icon="icon-a-web-bank"
                        />
                    </SliderSlide>
                    <SliderSlide class="bank-services__slide">
                        <ServiceCard
                            class="bank-services__card"
                            title="Кредиты"
                            icon="icon-a-money"
                        />
                    </SliderSlide>
                    <SliderSlide class="bank-services__slide">
                        <ServiceCard
                            class="bank-services__card"
                            title="Ипотека"
                            icon="icon-a-house"
                        />
                    </SliderSlide>
                </PersistentSlider>
            </div>
            <ServiceSalaryCard class="bank-services__salary" />
            <ServiceAppsCard
                benefits={serviceAppBenefits}
                title="Мобильное приложение"
                class="bank-services__apps"
            >
                <Fragment slot="footer">
                    <AppButton href="#" iconName="ru-store" />
                    <AppButton href="#" iconName="ru-market" />
                    <AppButton href="#" iconName="nash-store" />
                    <AButton
                        element="a"
                        href="#"
                        size="m"
                        afterIcon="icon-download"
                        color="white">Скачать</AButton
                    >
                </Fragment>
            </ServiceAppsCard>
        </div>
    </div>
</SectionLayout>

<style lang="scss" is:global>
    @use "sass:map";
    @import "@styles/variables";
    @import "@styles/media-queries";
    @import "@styles/placeholders";

    .bank-services {
        &__container {
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;

            @include use-media(tablet) {
                gap: 0.5rem;
            }

            @include use-media(laptop-x) {
                display: grid;
                grid-template-columns: calc(68% - 3px) calc(32% - 5px);
                grid-template-rows: 17rem;
            }
        }

        &__services {
            position: relative;

            .swiper {
                height: 100%;
            }
        }

        &__salary {
            @include use-media(laptop-x) {
                grid-column: 2 / 3;
                grid-row: 1 / 3;
            }
        }

        &__apps {
            @include use-media(laptop-x) {
                grid-column: 1 / 2;
            }
        }

        &__slide {
            min-height: 12.5rem;
        }
    }
</style>
