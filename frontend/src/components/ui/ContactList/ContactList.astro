---
import AIcon from "@components/AIcon.astro";

type ContactList = {
    href: string;
    text: string;
    icon: string;
    description?: string;
    additionalText?: string;
    additionalClass?: string;
};

interface Props {
    list: ContactList[];
}

const { list } = Astro.props as Props;

// список контактов
---

<ul class="contact-list">
    {
        list.map(({ href, text, icon, description, additionalText, additionalClass }) => (
            <li class="contact-list__item">
                <AIcon class="contact-list__icon" symbolId={icon} size="m" />
                <div class="contact-list__text">
                    <a href={href} class={`contact-list__link ${additionalClass}`}>
                        <span class="body-l-light">
                            {text}
                        </span>
                    </a>
                    {additionalText && (
                        <span class="contact-list__chip caption-m">
                            {additionalText}
                        </span>
                    )}
                    {description && (
                        <span class="contact-list__notes body-l-light">{description}</span>
                    )}
                </div>
            </li>
        ))
    }
</ul>

<style lang="scss" is:global>
    @import "@styles/media-queries";
    @import "@styles/placeholders";

    .contact-list {
        @extend %reset-list;

        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        list-style: none;

        @include use-media(tablet-album) {
            flex-direction: row;
            flex-wrap: wrap;
        }

        &__item {
            display: flex;
            column-gap: 1rem;
        }

        &__icon {
            flex-shrink: 0;
        }

        &__text {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            color: currentColor;
        }

        &__link {
            color: currentColor;
            text-decoration: none;

            &.is-underlined {
                text-decoration: underline;
            }
        }

        &__notes {
            opacity: 0.5;
        }

        &__chip {
            white-space: nowrap;
            border: 1px solid var(--purple-30);
            padding: .25rem .5rem;
            color: rgba(#fff ,.5);
            border-radius: .125rem;
        }
    }
</style>
