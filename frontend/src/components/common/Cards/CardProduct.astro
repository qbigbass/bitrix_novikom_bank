---
import AIcon from "@components/AIcon.astro";

export type BackgroundColors = "gray" | "heavy-purple" | "white";
export type iconColors = "yellow-150" | "orange-100" | "violet-100";

interface Props {
    class?: string;
    icon: string;
    iconColor?: iconColors;
    title: string;
    text?: string;
    backgroundColor?: BackgroundColors;
}

const {
    class: className,
    title,
    text,
    icon,
    iconColor,
    backgroundColor = "gray",
} = Astro.props as Props;

// карточка продукта
---

<a href="#"
    class:list={["card-product", `card-product--${backgroundColor}`, className]}
>
    <div class="card-product__header">
        <h3 class="headline-3">{title}</h3>
        <p class="body-m-light" set:html={text} />
    </div>
    <div class:list={["card-product__footer", `${iconColor ? `${iconColor}` : ""}`]}>
        <AIcon class="card-product__icon" symbolId={icon} />
    </div>
</div>

<style lang="scss" is:global>
    @import "@styles/media-queries";

    .card-product {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        border-radius: 0.75rem;
        overflow: hidden;
        padding: 1.5rem;
        text-decoration: none;

        @include use-media(tablet) {
            padding: 2rem;
            gap: 2rem;
        }

        @include use-media(tablet-album) {
            padding: 2.5rem;
        }

        &__header {
            display: flex;
            flex-direction: column;
            gap: 1rem;

            @include use-media(tablet-album) {
                gap: 1.5rem;
            }
        }

        &__footer {
            margin-top: auto;
            flex-shrink: 0;
            display: flex;
            justify-content: flex-end;
        }

        &__icon {
            width: 3rem;
            height: 3rem;
            fill: currentColor;

            @include use-media(tablet-album) {
                width: 4rem;
                height: 4rem;
            }
        }

        &--gray {
            background-color: var(--dark-10);
            color: var(--dark-100);
        }

        &--white {
            background-color: var(--dark-0);
            color: var(--dark-100);
        }

        &--heavy-purple {
            background: linear-gradient(222.24deg, #101317 20%, #5a2375 80%);
            color: var(--dark-0);
        }
    }
</style>
